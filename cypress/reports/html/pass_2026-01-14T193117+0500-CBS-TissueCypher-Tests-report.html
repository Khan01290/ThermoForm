<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Automation Reports</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:13,&quot;passes&quot;:13,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;testsRegistered&quot;:13,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;start&quot;:&quot;2026-01-14T14:05:17.159Z&quot;,&quot;end&quot;:&quot;2026-01-14T14:31:17.745Z&quot;,&quot;duration&quot;:1560586},&quot;results&quot;:[{&quot;uuid&quot;:&quot;d6613087-653c-42ce-8f0a-426500968a74&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\CBS\\CBS-TissueCypher-Tests.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\CBS\\CBS-TissueCypher-Tests.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;86fb3fd2-53f9-4aee-9c0a-96ca7433e147&quot;,&quot;title&quot;:&quot;TissueCypher Online Order Creation and Submission Suite&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\CBS\\CBS-TissueCypher-Tests.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\CBS\\CBS-TissueCypher-Tests.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Verify TissueCypher Test Created with In Progress Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Creation and Submission Suite Verify TissueCypher Test Created with In Progress Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:126174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section\ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n  timeout: 10000\n}).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n  const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n  cy.wrap($buttonsicd[randomIndexicd]).click();\n});\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).type(&#x27;05-10-1975&#x27;); // example date\n  }\n});\n// Laboratory Setion\n/*\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {                                                                                     // Seleting type of facility randomly.\nconst randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\nconst chosen1 = $options1[randomIndex1]\n // Click the randomly selected input\ncy.wrap(chosen1).click({ force: true})    \n  })\n  cy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000)                                                                                                    // typing text in Name of facility\n//cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\ncy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;)\n.find(&#x27;button&#x27;)\n.then($options2 =&gt; {\n    const randomIndex2 = Math.floor(Math.random() * $options2.length)\n    const chosen2 = $options2[randomIndex2]\n    cy.wrap($options2[randomIndex2])\n    cy.wrap(chosen2).click({ force: true})\n    cy.log(&#x27;Selected option: &#x27; + chosen2.value)\n    \n})        \ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;)                                                                                                  // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000)                                                                                       // pull date input\n//cy.get(&#x27;input[id=\&quot;laboratoryInfo.labortaryPhone\&quot;]&#x27;).click({ force: true })\n//cy.get(&#x27;input[placeholder=\&quot;Enter tumor site\&quot;]&#x27;).type(&#x27;www.tumorsite.com&#x27;)                                                                                           // Input tumor site\n*/\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).check({\n  force: true\n}).wait(500); // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n  // Get all radio buttons by name\n  expect($radios.length).to.be.greaterThan(0); // assert radios exist\n  // âœ… Assert label text for each radio\n  cy.wrap($radios).each($el =&gt; {\n    cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n    .find(&#x27;span&#x27;) // find the text span\n    .invoke(&#x27;text&#x27;).then(text =&gt; {\n      cy.log(&#x27;Found radio option: &#x27; + text.trim());\n      expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n    });\n  });\n  // âœ… Pick a random radio and click it\n  const randomIndex = Cypress._.random(0, $radios.length - 1);\n  cy.wrap($radios[randomIndex]).check({\n    force: true\n  }).should(&#x27;be.checked&#x27;);\n  cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n});\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;In Progress&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is In Progress  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken = oktaData.accessToken) === null || _oktaData$accessToken === void 0 ? void 0 : _oktaData$accessToken.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body = res.body) === null || _res$body === void 0 || (_res$body = _res$body.data) === null || _res$body === void 0 ? void 0 : _res$body.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f311b5cf-7ef4-49dd-a7d0-1d5cfd710c91&quot;,&quot;parentUUID&quot;:&quot;86fb3fd2-53f9-4aee-9c0a-96ca7433e147&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test Created with Send for approval&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Creation and Submission Suite Verify TissueCypher Test Created with Send for approval&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:138321,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\n////cy.get(\&quot;.text-lg\&quot;).contains(\&quot;Existing Customer\&quot;)                                                                                                                                    // Assertion for text \&quot;Existing Customer\&quot; is present\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section\ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n  timeout: 10000\n}).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n  const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n  cy.wrap($buttonsicd[randomIndexicd]).click();\n});\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).type(&#x27;05-10-1975&#x27;); // example date\n  }\n});\n// Additional Info section\n/*\ncy.get(&#x27;[href=\&quot;#Additional Information\&quot;] &gt; .w-full &gt; .font-normal&#x27;).click().wait(500)                                                                         // Selecting Additional Info from side menu\ncy.get(&#x27;.align-top &gt; div &gt; .mt-3 &gt; .checkmark&#x27;, { timeout: 1000 }).click()                                                                                    // tap to checkbox\ncy.get(&#x27;:nth-child(3) &gt; div &gt; .mt-3 &gt; .checkmark&#x27;, { timeout: 1000 }).click()                                                                                 // tap to 2nd checkbox\ncy.get(&#x27;:nth-child(3) &gt; div &gt; .mt-3 &gt; span.undefined&#x27;).should(&#x27;have.text&#x27;,&#x27;By checking this box, I hereby acknowledge this clinician(s) will receive the final test report and associated PHI&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;#firstName&#x27;, { timeout: 1000 }).type(&#x27;Jony&#x27;)\ncy.get(&#x27;#lastName&#x27;, { timeout: 1000 }).type(&#x27;way&#x27;)\ncy.get(&#x27;#npi&#x27;, { timeout: 1000 }).type(&#x27;5557774448&#x27;)\ncy.get(&#x27;#fax&#x27;, { timeout: 1000 }).type(&#x27;885-741-8852&#x27;)\ncy.get(&#x27;#email&#x27;, { timeout: 1000 }).type(&#x27;jony@gmail.com&#x27;)\ncy.get(&#x27;.flex &gt; .mt-3 &gt; .checkmark&#x27;, { timeout: 1000 }).click()\n*/\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\n//cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\ncy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n  const randomIndex2 = Math.floor(Math.random() * $options2.length);\n  const chosen2 = $options2[randomIndex2];\n  cy.wrap($options2[randomIndex2]);\n  cy.wrap(chosen2).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n});\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n//cy.get(&#x27;input[id=\&quot;laboratoryInfo.labortaryPhone\&quot;]&#x27;).click({ force: true })\n//cy.get(&#x27;input[placeholder=\&quot;Enter tumor site\&quot;]&#x27;).type(&#x27;www.tumorsite.com&#x27;)                                                                                           // Input tumor site\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).check({\n  force: true\n}).wait(500); // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n  // Get all radio buttons by name\n  expect($radios.length).to.be.greaterThan(0); // assert radios exist\n  // âœ… Assert label text for each radio\n  cy.wrap($radios).each($el =&gt; {\n    cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n    .find(&#x27;span&#x27;) // find the text span\n    .invoke(&#x27;text&#x27;).then(text =&gt; {\n      cy.log(&#x27;Found radio option: &#x27; + text.trim());\n      expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n    });\n  });\n  // âœ… Pick a random radio and click it\n  const randomIndex = Cypress._.random(0, $radios.length - 1);\n  cy.wrap($radios[randomIndex]).check({\n    force: true\n  }).should(&#x27;be.checked&#x27;);\n  cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n});\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.get(&#x27;.primaryBtn&#x27;).click().wait(5000); // Press Submit btn                                                                                                                                       \ncy.get(&#x27;.justify-between &gt; .w-full &gt; .font-semibold&#x27;).should(&#x27;have.text&#x27;, &#x27;Test Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Test Submission Heading assertion\ncy.contains(&#x27;button&#x27;, &#x27;Send for approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Send for approval btn click        \ncy.get(&#x27;.text-3xl&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Order Sent For Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(5000); // Order Sent For Approval assertion        \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;).should(&#x27;have.text&#x27;, &#x27;Pending Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken2;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken2 = oktaData.accessToken) === null || _oktaData$accessToken2 === void 0 ? void 0 : _oktaData$accessToken2.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body2;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body2 = res.body) === null || _res$body2 === void 0 || (_res$body2 = _res$body2.data) === null || _res$body2 === void 0 ? void 0 : _res$body2.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b84bcff-bcf7-47f0-8ce4-da1e06c43344&quot;,&quot;parentUUID&quot;:&quot;86fb3fd2-53f9-4aee-9c0a-96ca7433e147&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test Created with pending submission Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Creation and Submission Suite Verify TissueCypher Test Created with pending submission Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:115622,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section\ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n  timeout: 10000\n}).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n  const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n  cy.wrap($buttonsicd[randomIndexicd]).click();\n});\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).type(&#x27;05-10-1975&#x27;); // example date\n  }\n});\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\n//cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\ncy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n  const randomIndex2 = Math.floor(Math.random() * $options2.length);\n  const chosen2 = $options2[randomIndex2];\n  cy.wrap($options2[randomIndex2]);\n  cy.wrap(chosen2).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n});\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).check({\n  force: true\n}).wait(500); // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n  // Get all radio buttons by name\n  expect($radios.length).to.be.greaterThan(0); // assert radios exist\n  // âœ… Assert label text for each radio\n  cy.wrap($radios).each($el =&gt; {\n    cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n    .find(&#x27;span&#x27;) // find the text span\n    .invoke(&#x27;text&#x27;).then(text =&gt; {\n      cy.log(&#x27;Found radio option: &#x27; + text.trim());\n      expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n    });\n  });\n  // âœ… Pick a random radio and click it\n  const randomIndex = Cypress._.random(0, $radios.length - 1);\n  cy.wrap($radios[randomIndex]).check({\n    force: true\n  }).should(&#x27;be.checked&#x27;);\n  cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n});\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Pending Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken3;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken3 = oktaData.accessToken) === null || _oktaData$accessToken3 === void 0 ? void 0 : _oktaData$accessToken3.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body3;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body3 = res.body) === null || _res$body3 === void 0 || (_res$body3 = _res$body3.data) === null || _res$body3 === void 0 ? void 0 : _res$body3.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee52514f-ecb1-4954-82ee-58ad6109c50b&quot;,&quot;parentUUID&quot;:&quot;86fb3fd2-53f9-4aee-9c0a-96ca7433e147&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test Created with Submitted Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Creation and Submission Suite Verify TissueCypher Test Created with Submitted Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:120693,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section\ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n  timeout: 10000\n}).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n  const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n  cy.wrap($buttonsicd[randomIndexicd]).click();\n});\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).type(&#x27;05-10-1975&#x27;); // example date\n  }\n});\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\n//cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\ncy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n  const randomIndex2 = Math.floor(Math.random() * $options2.length);\n  const chosen2 = $options2[randomIndex2];\n  cy.wrap($options2[randomIndex2]);\n  cy.wrap(chosen2).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n});\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).check({\n  force: true\n}).wait(500); // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n  // Get all radio buttons by name\n  expect($radios.length).to.be.greaterThan(0); // assert radios exist\n  // âœ… Assert label text for each radio\n  cy.wrap($radios).each($el =&gt; {\n    cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n    .find(&#x27;span&#x27;) // find the text span\n    .invoke(&#x27;text&#x27;).then(text =&gt; {\n      cy.log(&#x27;Found radio option: &#x27; + text.trim());\n      expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n    });\n  });\n  // âœ… Pick a random radio and click it\n  const randomIndex = Cypress._.random(0, $radios.length - 1);\n  cy.wrap($radios[randomIndex]).check({\n    force: true\n  }).should(&#x27;be.checked&#x27;);\n  cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n});\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.get(&#x27;.primaryBtn&#x27;).click().wait(5000); // Press Submit btn                                                                                                                                       \ncy.get(&#x27;.justify-between &gt; .w-full &gt; .font-semibold&#x27;).should(&#x27;have.text&#x27;, &#x27;Test Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Test Submission Heading assertion\ncy.get(&#x27;.md\\\\:max-w-\\\\[300px\\\\] &gt; :nth-child(1) &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn &gt; .font-semibold&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n}); // Attach file for order submission\ncy.get(&#x27;.w-full &gt; :nth-child(1) &gt; .primaryBtn&#x27;, {\n  timeout: 100000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Submit btn click        \ncy.get(&#x27;.text-3xl&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Order Submitted&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Order Submitted page heading assertion        \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click          \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;).should(&#x27;have.text&#x27;, &#x27;Submitted&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is Submitted  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken4;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken4 = oktaData.accessToken) === null || _oktaData$accessToken4 === void 0 ? void 0 : _oktaData$accessToken4.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body4;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body4 = res.body) === null || _res$body4 === void 0 || (_res$body4 = _res$body4.data) === null || _res$body4 === void 0 ? void 0 : _res$body4.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c47c88b7-ac13-439b-95fb-d5121566ee19&quot;,&quot;parentUUID&quot;:&quot;86fb3fd2-53f9-4aee-9c0a-96ca7433e147&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f311b5cf-7ef4-49dd-a7d0-1d5cfd710c91&quot;,&quot;0b84bcff-bcf7-47f0-8ce4-da1e06c43344&quot;,&quot;ee52514f-ecb1-4954-82ee-58ad6109c50b&quot;,&quot;c47c88b7-ac13-439b-95fb-d5121566ee19&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:500810,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a4c9278b-064f-405d-9348-dc56fc1110e5&quot;,&quot;title&quot;:&quot;TissueCypher Online Order Edit Flows Suite&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\CBS\\CBS-TissueCypher-Tests.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\CBS\\CBS-TissueCypher-Tests.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Verify TissueCypher Test edited from In Progress to Send for Approval Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Edit Flows Suite Verify TissueCypher Test edited from In Progress to Send for Approval Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:124098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section\n/*    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, { timeout: 1000 }).should(&#x27;have.text&#x27;,&#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click()                              // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click()\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, { timeout: 10000 })\n.should(&#x27;have.length.greaterThan&#x27;, 0)\n.then($buttonsicd =&gt; {\n    const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length)\n    cy.wrap($buttonsicd[randomIndexicd]).click()\n})\n\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {                                                                                            // Seleting type of facility randomly.\nconst randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\nconst chosen1 = $options1[randomIndex1]\n    cy.wrap(chosen1).click({ force: true})\n    cy.log(&#x27;Selected option: &#x27; + chosen1.value)\n    if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n        cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;)\n        .should(&#x27;be.visible&#x27;)\n        .should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;)\n        .type(&#x27;05-10-1975&#x27;) // example date\n        }\n})\n */\n// Laboratory Setion\n/*\n    cy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                // Selecting Laboratory Info from side menu\n    cy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {                                                                                     // Seleting type of facility randomly.\n    const randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\n    const chosen1 = $options1[randomIndex1]\n     // Click the randomly selected input\n    cy.wrap(chosen1).click({ force: true})    \n      })\n      cy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000)                                                                                                    // typing text in Name of facility\n    //cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\n    cy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;)\n    .find(&#x27;button&#x27;)\n    .then($options2 =&gt; {\n        const randomIndex2 = Math.floor(Math.random() * $options2.length)\n        const chosen2 = $options2[randomIndex2]\n        cy.wrap($options2[randomIndex2])\n        cy.wrap(chosen2).click({ force: true})\n        cy.log(&#x27;Selected option: &#x27; + chosen2.value)\n        \n    })        \n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;)                                                                                                  // Collection date input\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000)                                                                                       // pull date input\n    cy.get(&#x27;input[id=\&quot;laboratoryInfo.labortaryPhone\&quot;]&#x27;).click({ force: true })\n    cy.get(&#x27;input[placeholder=\&quot;Enter tumor site\&quot;]&#x27;).type(&#x27;www.tumorsite.com&#x27;)                                                                                           // Input tumor site\n*/\n// Shipment Information\n/*\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                          // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).click({force: true}).wait(500)                                                                                              // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;)                                                                                                 // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {                                                                                                                // Get all radio buttons by name\n    expect($radios.length).to.be.greaterThan(0) // assert radios exist\n      // âœ… Assert label text for each radio\n    cy.wrap($radios).each(($el) =&gt; {\n        cy.wrap($el)\n        .parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n        .find(&#x27;span&#x27;)    // find the text span\n        .invoke(&#x27;text&#x27;)\n        .then(text =&gt; {\n            cy.log(&#x27;Found radio option: &#x27; + text.trim())\n            expect(text.trim()).to.be.oneOf([\n            &#x27;FedEx&#x27;,\n            &#x27;USPS&#x27;,\n            &#x27;UPS&#x27;,\n            &#x27;DHL&#x27;,\n            &#x27;Private Courier&#x27;,\n            &#x27;Hand-Delivered&#x27;\n            ])\n        })\n    })\n      // âœ… Pick a random radio and click it\n    const randomIndex = Cypress._.random(0, $radios.length - 1)\n    cy.wrap($radios[randomIndex])\n        .check({ force: true })\n        .should(&#x27;be.checked&#x27;)\n      cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value)\n})\n*/\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;In Progress&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is In Progress  \ncy.wait(10000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken5;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken5 = oktaData.accessToken) === null || _oktaData$accessToken5 === void 0 ? void 0 : _oktaData$accessToken5.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body5;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body5 = res.body) === null || _res$body5 === void 0 || (_res$body5 = _res$body5.data) === null || _res$body5 === void 0 ? void 0 : _res$body5.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});\ncy.contains(&#x27;button&#x27;, &#x27;Resume&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Resume btn\n// ---------------- Billing Information ----------------\nfunction fillBillingInformationSection(section) {\n  cy.wrap(section).within(() =&gt; {\n    //cy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, { timeout: 1000 }).should(&#x27;have.text&#x27;,&#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click()                          // Asserting side bar billing information and clicked \n    cy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\n    cy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n      timeout: 10000\n    }).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n      const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n      cy.wrap($buttonsicd[randomIndexicd]).click();\n    });\n    cy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n      // Seleting type of facility randomly.\n      const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n      const chosen1 = $options1[randomIndex1];\n      cy.wrap(chosen1).click({\n        force: true\n      });\n      cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n      if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n        cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\n      }\n    });\n  });\n}\n// ---------------- laboratory Information ----------------\nfunction laboratoryInformationSection(section) {\n  cy.wrap(section).within(() =&gt; {\n    // Laboratory Setion\n    //cy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                // Selecting Laboratory Info from side menu\n    cy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n      // Seleting type of facility randomly.\n      const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n      const chosen1 = $options1[randomIndex1];\n      // Click the randomly selected input\n      cy.wrap(chosen1).click({\n        force: true\n      });\n    });\n    cy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\n    cy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n      const randomIndex2 = Math.floor(Math.random() * $options2.length);\n      const chosen2 = $options2[randomIndex2];\n      cy.wrap($options2[randomIndex2]);\n      cy.wrap(chosen2).click({\n        force: true\n      });\n      cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n    });\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n    //cy.get(&#x27;input[id=\&quot;laboratoryInfo.labortaryPhone\&quot;]&#x27;).click({ force: true })\n    //cy.get(&#x27;input[placeholder=\&quot;Enter tumor site\&quot;]&#x27;).type(&#x27;www.tumorsite.com&#x27;)                                                                                           // Input tumor site\n  });\n}\n// ---------------- Shipment Information ----------------\nfunction shipmentInformationSection(section) {\n  cy.wrap(section).within(() =&gt; {\n    //cy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                          // left side Shipment Information anchor click\n    cy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).click({\n      force: true\n    }).wait(500); // Click shipping check box                             \n    cy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \n    cy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n      // Get all radio buttons by name\n      expect($radios.length).to.be.greaterThan(0); // assert radios exist\n      // âœ… Assert label text for each radio\n      cy.wrap($radios).each($el =&gt; {\n        cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n        .find(&#x27;span&#x27;) // find the text span\n        .invoke(&#x27;text&#x27;).then(text =&gt; {\n          cy.log(&#x27;Found radio option: &#x27; + text.trim());\n          expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n        });\n      });\n      // âœ… Pick a random radio and click it\n      const randomIndex = Cypress._.random(0, $radios.length - 1);\n      cy.wrap($radios[randomIndex]).check({\n        force: true\n      }).should(&#x27;be.checked&#x27;);\n      cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n    });\n  });\n}\n// ---------------- Mapping Handler Functions --------------------------\nconst sectionHandlers = {\n  &#x27;Billing Information&#x27;: fillBillingInformationSection,\n  &#x27;Laboratory Information&#x27;: laboratoryInformationSection,\n  &#x27;Shipment Information&#x27;: shipmentInformationSection\n};\n// ------------------ ðŸ”¹ 3ï¸âƒ£ MAIN EXECUTION LOGIC (RED SVG LOOP) -----------------------\ncy.get(&#x27;a:has(svg[fill=\&quot;red\&quot;])&#x27;).should(&#x27;have.length.greaterThan&#x27;, 0).each($anchor =&gt; {\n  // Extract section ID from href\n  const href = $anchor.attr(&#x27;href&#x27;); // e.g. \&quot;#Billing Information\&quot;\n  const sectionId = href === null || href === void 0 ? void 0 : href.replace(&#x27;#&#x27;, &#x27;&#x27;); // \&quot;Billing Information\&quot;\n  if (!sectionId) {\n    cy.log(&#x27;âš ï¸ No href found for red SVG&#x27;);\n    return;\n  }\n  const handler = sectionHandlers[sectionId];\n  // Click sidebar link (scrolls to section)\n  cy.wrap($anchor).scrollIntoView().click({\n    force: true\n  });\n  if (!handler) {\n    cy.log(`âš ï¸ No handler defined for section: ${sectionId}`);\n    return;\n  }\n  // Now safely target the section\n  cy.get(`div[id=\&quot;${sectionId}\&quot;]`, {\n    timeout: 10000\n  }).scrollIntoView().then($section =&gt; {\n    handler($section);\n  });\n});\ncy.get(&#x27;.primaryBtn&#x27;).should(&#x27;be.enabled&#x27;).click().wait(5000); // Press Submit btn                                                                                                                                       \ncy.get(&#x27;.justify-between &gt; .w-full &gt; .font-semibold&#x27;).should(&#x27;have.text&#x27;, &#x27;Test Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Test Submission Heading assertion\ncy.contains(&#x27;button&#x27;, &#x27;Send for approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Send for approval btn click        \ncy.get(&#x27;.text-3xl&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Order Sent For Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(5000); // Order Sent For Approval assertion        \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;).should(&#x27;have.text&#x27;, &#x27;Pending Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;579d5489-566f-4445-b892-3e08f2c19a37&quot;,&quot;parentUUID&quot;:&quot;a4c9278b-064f-405d-9348-dc56fc1110e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test edited from In Progress to Pending Submission Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Edit Flows Suite Verify TissueCypher Test edited from In Progress to Pending Submission Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:129641,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section\n/*    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, { timeout: 1000 }).should(&#x27;have.text&#x27;,&#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click()                              // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click()\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, { timeout: 10000 })\n.should(&#x27;have.length.greaterThan&#x27;, 0)\n.then($buttonsicd =&gt; {\n    const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length)\n    cy.wrap($buttonsicd[randomIndexicd]).click()\n})\n\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {                                                                                            // Seleting type of facility randomly.\nconst randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\nconst chosen1 = $options1[randomIndex1]\n    cy.wrap(chosen1).click({ force: true})\n    cy.log(&#x27;Selected option: &#x27; + chosen1.value)\n    if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n        cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;)\n        .should(&#x27;be.visible&#x27;)\n        .should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;)\n        .type(&#x27;05-10-1975&#x27;) // example date\n        }\n})\n */\n// Laboratory Setion\n/*\n    cy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                // Selecting Laboratory Info from side menu\n    cy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {                                                                                     // Seleting type of facility randomly.\n    const randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\n    const chosen1 = $options1[randomIndex1]\n     // Click the randomly selected input\n    cy.wrap(chosen1).click({ force: true})    \n      })\n      cy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000)                                                                                                    // typing text in Name of facility\n    //cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\n    cy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;)\n    .find(&#x27;button&#x27;)\n    .then($options2 =&gt; {\n        const randomIndex2 = Math.floor(Math.random() * $options2.length)\n        const chosen2 = $options2[randomIndex2]\n        cy.wrap($options2[randomIndex2])\n        cy.wrap(chosen2).click({ force: true})\n        cy.log(&#x27;Selected option: &#x27; + chosen2.value)\n        \n    })        \n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;)                                                                                                  // Collection date input\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000)                                                                                       // pull date input\n    cy.get(&#x27;input[id=\&quot;laboratoryInfo.labortaryPhone\&quot;]&#x27;).click({ force: true })\n    cy.get(&#x27;input[placeholder=\&quot;Enter tumor site\&quot;]&#x27;).type(&#x27;www.tumorsite.com&#x27;)                                                                                           // Input tumor site\n*/\n// Shipment Information\n/*\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                          // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).click({force: true}).wait(500)                                                                                              // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;)                                                                                                 // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {                                                                                                                // Get all radio buttons by name\n    expect($radios.length).to.be.greaterThan(0) // assert radios exist\n      // âœ… Assert label text for each radio\n    cy.wrap($radios).each(($el) =&gt; {\n        cy.wrap($el)\n        .parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n        .find(&#x27;span&#x27;)    // find the text span\n        .invoke(&#x27;text&#x27;)\n        .then(text =&gt; {\n            cy.log(&#x27;Found radio option: &#x27; + text.trim())\n            expect(text.trim()).to.be.oneOf([\n            &#x27;FedEx&#x27;,\n            &#x27;USPS&#x27;,\n            &#x27;UPS&#x27;,\n            &#x27;DHL&#x27;,\n            &#x27;Private Courier&#x27;,\n            &#x27;Hand-Delivered&#x27;\n            ])\n        })\n    })\n      // âœ… Pick a random radio and click it\n    const randomIndex = Cypress._.random(0, $radios.length - 1)\n    cy.wrap($radios[randomIndex])\n        .check({ force: true })\n        .should(&#x27;be.checked&#x27;)\n      cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value)\n})\n*/\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;In Progress&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is In Progress  \ncy.wait(10000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken6;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken6 = oktaData.accessToken) === null || _oktaData$accessToken6 === void 0 ? void 0 : _oktaData$accessToken6.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body6;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body6 = res.body) === null || _res$body6 === void 0 || (_res$body6 = _res$body6.data) === null || _res$body6 === void 0 ? void 0 : _res$body6.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});\ncy.contains(&#x27;button&#x27;, &#x27;Resume&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Resume btn\n// ---------------- Billing Information ----------------\nfunction fillBillingInformationSection(section) {\n  cy.wrap(section).within(() =&gt; {\n    //cy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, { timeout: 1000 }).should(&#x27;have.text&#x27;,&#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click()                          // Asserting side bar billing information and clicked \n    cy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\n    cy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n      timeout: 10000\n    }).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n      const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n      cy.wrap($buttonsicd[randomIndexicd]).click();\n    });\n    cy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n      // Seleting type of facility randomly.\n      const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n      const chosen1 = $options1[randomIndex1];\n      cy.wrap(chosen1).click({\n        force: true\n      });\n      cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n      if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n        cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\n      }\n    });\n  });\n}\n// ---------------- laboratory Information ----------------\nfunction laboratoryInformationSection(section) {\n  cy.wrap(section).within(() =&gt; {\n    // Laboratory Setion\n    //cy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                // Selecting Laboratory Info from side menu\n    cy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n      // Seleting type of facility randomly.\n      const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n      const chosen1 = $options1[randomIndex1];\n      // Click the randomly selected input\n      cy.wrap(chosen1).click({\n        force: true\n      });\n    });\n    cy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\n    cy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n      const randomIndex2 = Math.floor(Math.random() * $options2.length);\n      const chosen2 = $options2[randomIndex2];\n      cy.wrap($options2[randomIndex2]);\n      cy.wrap(chosen2).click({\n        force: true\n      });\n      cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n    });\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n    //cy.get(&#x27;input[id=\&quot;laboratoryInfo.labortaryPhone\&quot;]&#x27;).click({ force: true })\n    //cy.get(&#x27;input[placeholder=\&quot;Enter tumor site\&quot;]&#x27;).type(&#x27;www.tumorsite.com&#x27;)                                                                                           // Input tumor site\n  });\n}\n// ---------------- Shipment Information ----------------\nfunction shipmentInformationSection(section) {\n  cy.wrap(section).within(() =&gt; {\n    //cy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                          // left side Shipment Information anchor click\n    cy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).click({\n      force: true\n    }).wait(500); // Click shipping check box                             \n    cy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \n    cy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n      // Get all radio buttons by name\n      expect($radios.length).to.be.greaterThan(0); // assert radios exist\n      // âœ… Assert label text for each radio\n      cy.wrap($radios).each($el =&gt; {\n        cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n        .find(&#x27;span&#x27;) // find the text span\n        .invoke(&#x27;text&#x27;).then(text =&gt; {\n          cy.log(&#x27;Found radio option: &#x27; + text.trim());\n          expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n        });\n      });\n      // âœ… Pick a random radio and click it\n      const randomIndex = Cypress._.random(0, $radios.length - 1);\n      cy.wrap($radios[randomIndex]).check({\n        force: true\n      }).should(&#x27;be.checked&#x27;);\n      cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n    });\n  });\n}\n// ---------------- Mapping Handler Functions --------------------------\nconst sectionHandlers = {\n  &#x27;Billing Information&#x27;: fillBillingInformationSection,\n  &#x27;Laboratory Information&#x27;: laboratoryInformationSection,\n  &#x27;Shipment Information&#x27;: shipmentInformationSection\n};\n// ------------------ ðŸ”¹ 3ï¸âƒ£ MAIN EXECUTION LOGIC (RED SVG LOOP) -----------------------\ncy.get(&#x27;a:has(svg[fill=\&quot;red\&quot;])&#x27;).should(&#x27;have.length.greaterThan&#x27;, 0).each($anchor =&gt; {\n  // Extract section ID from href\n  const href = $anchor.attr(&#x27;href&#x27;); // e.g. \&quot;#Billing Information\&quot;\n  const sectionId = href === null || href === void 0 ? void 0 : href.replace(&#x27;#&#x27;, &#x27;&#x27;); // \&quot;Billing Information\&quot;\n  if (!sectionId) {\n    cy.log(&#x27;âš ï¸ No href found for red SVG&#x27;);\n    return;\n  }\n  const handler = sectionHandlers[sectionId];\n  // Click sidebar link (scrolls to section)\n  cy.wrap($anchor).scrollIntoView().click({\n    force: true\n  });\n  if (!handler) {\n    cy.log(`âš ï¸ No handler defined for section: ${sectionId}`);\n    return;\n  }\n  // Now safely target the section\n  cy.get(`div[id=\&quot;${sectionId}\&quot;]`, {\n    timeout: 10000\n  }).scrollIntoView().then($section =&gt; {\n    handler($section);\n  });\n});\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Pending Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d089bf8-66dc-4de1-a2c5-a305bfc63acc&quot;,&quot;parentUUID&quot;:&quot;a4c9278b-064f-405d-9348-dc56fc1110e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test edited from In Progress to Submit State Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Edit Flows Suite Verify TissueCypher Test edited from In Progress to Submit State Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:122596,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section\n/*    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, { timeout: 1000 }).should(&#x27;have.text&#x27;,&#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click()                              // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click()\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, { timeout: 10000 })\n.should(&#x27;have.length.greaterThan&#x27;, 0)\n.then($buttonsicd =&gt; {\n    const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length)\n    cy.wrap($buttonsicd[randomIndexicd]).click()\n})\n\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {                                                                                            // Seleting type of facility randomly.\nconst randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\nconst chosen1 = $options1[randomIndex1]\n    cy.wrap(chosen1).click({ force: true})\n    cy.log(&#x27;Selected option: &#x27; + chosen1.value)\n    if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n        cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;)\n        .should(&#x27;be.visible&#x27;)\n        .should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;)\n        .type(&#x27;05-10-1975&#x27;) // example date\n        }\n})\n */\n// Laboratory Setion\n/*\n    cy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                // Selecting Laboratory Info from side menu\n    cy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {                                                                                     // Seleting type of facility randomly.\n    const randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\n    const chosen1 = $options1[randomIndex1]\n     // Click the randomly selected input\n    cy.wrap(chosen1).click({ force: true})    \n      })\n      cy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000)                                                                                                    // typing text in Name of facility\n    //cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\n    cy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;)\n    .find(&#x27;button&#x27;)\n    .then($options2 =&gt; {\n        const randomIndex2 = Math.floor(Math.random() * $options2.length)\n        const chosen2 = $options2[randomIndex2]\n        cy.wrap($options2[randomIndex2])\n        cy.wrap(chosen2).click({ force: true})\n        cy.log(&#x27;Selected option: &#x27; + chosen2.value)\n        \n    })        \n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;)                                                                                                  // Collection date input\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000)                                                                                       // pull date input\n    cy.get(&#x27;input[id=\&quot;laboratoryInfo.labortaryPhone\&quot;]&#x27;).click({ force: true })\n    cy.get(&#x27;input[placeholder=\&quot;Enter tumor site\&quot;]&#x27;).type(&#x27;www.tumorsite.com&#x27;)                                                                                           // Input tumor site\n*/\n// Shipment Information\n/*\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                          // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).click({force: true}).wait(500)                                                                                              // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;)                                                                                                 // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {                                                                                                                // Get all radio buttons by name\n    expect($radios.length).to.be.greaterThan(0) // assert radios exist\n      // âœ… Assert label text for each radio\n    cy.wrap($radios).each(($el) =&gt; {\n        cy.wrap($el)\n        .parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n        .find(&#x27;span&#x27;)    // find the text span\n        .invoke(&#x27;text&#x27;)\n        .then(text =&gt; {\n            cy.log(&#x27;Found radio option: &#x27; + text.trim())\n            expect(text.trim()).to.be.oneOf([\n            &#x27;FedEx&#x27;,\n            &#x27;USPS&#x27;,\n            &#x27;UPS&#x27;,\n            &#x27;DHL&#x27;,\n            &#x27;Private Courier&#x27;,\n            &#x27;Hand-Delivered&#x27;\n            ])\n        })\n    })\n      // âœ… Pick a random radio and click it\n    const randomIndex = Cypress._.random(0, $radios.length - 1)\n    cy.wrap($radios[randomIndex])\n        .check({ force: true })\n        .should(&#x27;be.checked&#x27;)\n      cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value)\n})\n*/\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;In Progress&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is In Progress  \ncy.wait(10000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken7;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken7 = oktaData.accessToken) === null || _oktaData$accessToken7 === void 0 ? void 0 : _oktaData$accessToken7.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body7;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body7 = res.body) === null || _res$body7 === void 0 || (_res$body7 = _res$body7.data) === null || _res$body7 === void 0 ? void 0 : _res$body7.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});\ncy.contains(&#x27;button&#x27;, &#x27;Resume&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Resume btn\n// ---------------- Billing Information ----------------\nfunction fillBillingInformationSection(section) {\n  cy.wrap(section).within(() =&gt; {\n    //cy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, { timeout: 1000 }).should(&#x27;have.text&#x27;,&#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click()                          // Asserting side bar billing information and clicked \n    cy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\n    cy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n      timeout: 10000\n    }).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n      const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n      cy.wrap($buttonsicd[randomIndexicd]).click();\n    });\n    cy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n      // Seleting type of facility randomly.\n      const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n      const chosen1 = $options1[randomIndex1];\n      cy.wrap(chosen1).click({\n        force: true\n      });\n      cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n      if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n        cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\n      }\n    });\n  });\n}\n// ---------------- laboratory Information ----------------\nfunction laboratoryInformationSection(section) {\n  cy.wrap(section).within(() =&gt; {\n    // Laboratory Setion\n    //cy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                // Selecting Laboratory Info from side menu\n    cy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n      // Seleting type of facility randomly.\n      const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n      const chosen1 = $options1[randomIndex1];\n      // Click the randomly selected input\n      cy.wrap(chosen1).click({\n        force: true\n      });\n    });\n    cy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\n    cy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n      const randomIndex2 = Math.floor(Math.random() * $options2.length);\n      const chosen2 = $options2[randomIndex2];\n      cy.wrap($options2[randomIndex2]);\n      cy.wrap(chosen2).click({\n        force: true\n      });\n      cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n    });\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n    //cy.get(&#x27;input[id=\&quot;laboratoryInfo.labortaryPhone\&quot;]&#x27;).click({ force: true })\n    //cy.get(&#x27;input[placeholder=\&quot;Enter tumor site\&quot;]&#x27;).type(&#x27;www.tumorsite.com&#x27;)                                                                                           // Input tumor site\n  });\n}\n// ---------------- Shipment Information ----------------\nfunction shipmentInformationSection(section) {\n  cy.wrap(section).within(() =&gt; {\n    //cy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                          // left side Shipment Information anchor click\n    cy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).click({\n      force: true\n    }).wait(500); // Click shipping check box                             \n    cy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \n    cy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n      // Get all radio buttons by name\n      expect($radios.length).to.be.greaterThan(0); // assert radios exist\n      // âœ… Assert label text for each radio\n      cy.wrap($radios).each($el =&gt; {\n        cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n        .find(&#x27;span&#x27;) // find the text span\n        .invoke(&#x27;text&#x27;).then(text =&gt; {\n          cy.log(&#x27;Found radio option: &#x27; + text.trim());\n          expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n        });\n      });\n      // âœ… Pick a random radio and click it\n      const randomIndex = Cypress._.random(0, $radios.length - 1);\n      cy.wrap($radios[randomIndex]).check({\n        force: true\n      }).should(&#x27;be.checked&#x27;);\n      cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n    });\n  });\n}\n// ---------------- Mapping Handler Functions --------------------------\nconst sectionHandlers = {\n  &#x27;Billing Information&#x27;: fillBillingInformationSection,\n  &#x27;Laboratory Information&#x27;: laboratoryInformationSection,\n  &#x27;Shipment Information&#x27;: shipmentInformationSection\n};\n// ------------------ ðŸ”¹ 3ï¸âƒ£ MAIN EXECUTION LOGIC (RED SVG LOOP) -----------------------\ncy.get(&#x27;a:has(svg[fill=\&quot;red\&quot;])&#x27;).should(&#x27;have.length.greaterThan&#x27;, 0).each($anchor =&gt; {\n  // Extract section ID from href\n  const href = $anchor.attr(&#x27;href&#x27;); // e.g. \&quot;#Billing Information\&quot;\n  const sectionId = href === null || href === void 0 ? void 0 : href.replace(&#x27;#&#x27;, &#x27;&#x27;); // \&quot;Billing Information\&quot;\n  if (!sectionId) {\n    cy.log(&#x27;âš ï¸ No href found for red SVG&#x27;);\n    return;\n  }\n  const handler = sectionHandlers[sectionId];\n  // Click sidebar link (scrolls to section)\n  cy.wrap($anchor).scrollIntoView().click({\n    force: true\n  });\n  if (!handler) {\n    cy.log(`âš ï¸ No handler defined for section: ${sectionId}`);\n    return;\n  }\n  // Now safely target the section\n  cy.get(`div[id=\&quot;${sectionId}\&quot;]`, {\n    timeout: 10000\n  }).scrollIntoView().then($section =&gt; {\n    handler($section);\n  });\n});\ncy.get(&#x27;.primaryBtn&#x27;).click().wait(5000); // Press Submit btn                                                                                                                                       \ncy.get(&#x27;.justify-between &gt; .w-full &gt; .font-semibold&#x27;).should(&#x27;have.text&#x27;, &#x27;Test Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Test Submission Heading assertion\ncy.get(&#x27;.md\\\\:max-w-\\\\[300px\\\\] &gt; :nth-child(1) &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn &gt; .font-semibold&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n}); // Attach file for order submission\ncy.get(&#x27;.w-full &gt; :nth-child(1) &gt; .primaryBtn&#x27;, {\n  timeout: 100000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Submit btn click        \ncy.get(&#x27;.text-3xl&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Order Submitted&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Order Submitted page heading assertion        \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click          \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;).should(&#x27;have.text&#x27;, &#x27;Submitted&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is Submitted&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0456230-da81-4fa1-83b1-53bbc6d5b106&quot;,&quot;parentUUID&quot;:&quot;a4c9278b-064f-405d-9348-dc56fc1110e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test edited from Send for Approval to In Progress Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Edit Flows Suite Verify TissueCypher Test edited from Send for Approval to In Progress Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:121470,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n  timeout: 10000\n}).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n  const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n  cy.wrap($buttonsicd[randomIndexicd]).click();\n});\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).type(&#x27;05-10-1975&#x27;); // example date\n  }\n});\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\ncy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n  const randomIndex2 = Math.floor(Math.random() * $options2.length);\n  const chosen2 = $options2[randomIndex2];\n  cy.wrap($options2[randomIndex2]);\n  cy.wrap(chosen2).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n});\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).check({\n  force: true\n}).wait(500); // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n  // Get all radio buttons by name\n  expect($radios.length).to.be.greaterThan(0); // assert radios exist\n  // âœ… Assert label text for each radio\n  cy.wrap($radios).each($el =&gt; {\n    cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n    .find(&#x27;span&#x27;) // find the text span\n    .invoke(&#x27;text&#x27;).then(text =&gt; {\n      cy.log(&#x27;Found radio option: &#x27; + text.trim());\n      expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n    });\n  });\n  // âœ… Pick a random radio and click it\n  const randomIndex = Cypress._.random(0, $radios.length - 1);\n  cy.wrap($radios[randomIndex]).check({\n    force: true\n  }).should(&#x27;be.checked&#x27;);\n  cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n});\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.get(&#x27;.primaryBtn&#x27;).click().wait(5000); // Press Submit btn                                                                                                                                       \ncy.get(&#x27;.justify-between &gt; .w-full &gt; .font-semibold&#x27;).should(&#x27;have.text&#x27;, &#x27;Test Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Test Submission Heading assertion\ncy.contains(&#x27;button&#x27;, &#x27;Send for approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Send for approval btn click        \ncy.get(&#x27;.text-3xl&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Order Sent For Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(5000); // Order Sent For Approval assertion        \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;).should(&#x27;have.text&#x27;, &#x27;Pending Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken8;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken8 = oktaData.accessToken) === null || _oktaData$accessToken8 === void 0 ? void 0 : _oktaData$accessToken8.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body8;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body8 = res.body) === null || _res$body8 === void 0 || (_res$body8 = _res$body8.data) === null || _res$body8 === void 0 ? void 0 : _res$body8.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});\ncy.contains(&#x27;button&#x27;, &#x27;Resume&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Resume btn\n// Billing Info Section    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).clear();\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).clear().wait(1000); // example date\n  }\n});\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).clear(); // typing text in Name of facility        \ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).clear(); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).clear(); // pull date input\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).uncheck({\n  force: true\n}); // Uncheckk shipping check box                             \n// Supporting doc section\n/*\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;,&#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;,&#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n*/\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;In Progress&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is In Progress  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken9;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken9 = oktaData.accessToken) === null || _oktaData$accessToken9 === void 0 ? void 0 : _oktaData$accessToken9.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body9;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body9 = res.body) === null || _res$body9 === void 0 || (_res$body9 = _res$body9.data) === null || _res$body9 === void 0 ? void 0 : _res$body9.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a407a9f-aaaf-44e1-838f-3850d1e1d48c&quot;,&quot;parentUUID&quot;:&quot;a4c9278b-064f-405d-9348-dc56fc1110e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test edited from Send for Approval to Pending Submission Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Edit Flows Suite Verify TissueCypher Test edited from Send for Approval to Pending Submission Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:107401,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n  timeout: 10000\n}).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n  const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n  cy.wrap($buttonsicd[randomIndexicd]).click();\n});\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).type(&#x27;05-10-1975&#x27;); // example date\n  }\n});\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\n//cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\ncy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n  const randomIndex2 = Math.floor(Math.random() * $options2.length);\n  const chosen2 = $options2[randomIndex2];\n  cy.wrap($options2[randomIndex2]);\n  cy.wrap(chosen2).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n});\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).check({\n  force: true\n}).wait(500); // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n  // Get all radio buttons by name\n  expect($radios.length).to.be.greaterThan(0); // assert radios exist\n  // âœ… Assert label text for each radio\n  cy.wrap($radios).each($el =&gt; {\n    cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n    .find(&#x27;span&#x27;) // find the text span\n    .invoke(&#x27;text&#x27;).then(text =&gt; {\n      cy.log(&#x27;Found radio option: &#x27; + text.trim());\n      expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n    });\n  });\n  // âœ… Pick a random radio and click it\n  const randomIndex = Cypress._.random(0, $radios.length - 1);\n  cy.wrap($radios[randomIndex]).check({\n    force: true\n  }).should(&#x27;be.checked&#x27;);\n  cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n});\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.get(&#x27;.primaryBtn&#x27;).click().wait(5000); // Press Submit btn                                                                                                                                       \ncy.get(&#x27;.justify-between &gt; .w-full &gt; .font-semibold&#x27;).should(&#x27;have.text&#x27;, &#x27;Test Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Test Submission Heading assertion\ncy.contains(&#x27;button&#x27;, &#x27;Send for approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Send for approval btn click        \ncy.get(&#x27;.text-3xl&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Order Sent For Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(5000); // Order Sent For Approval assertion        \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;).should(&#x27;have.text&#x27;, &#x27;Pending Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken10;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken10 = oktaData.accessToken) === null || _oktaData$accessToken10 === void 0 ? void 0 : _oktaData$accessToken10.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body10;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body10 = res.body) === null || _res$body10 === void 0 || (_res$body10 = _res$body10.data) === null || _res$body10 === void 0 ? void 0 : _res$body10.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});\ncy.contains(&#x27;button&#x27;, &#x27;Resume&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Resume btn\n/*    \n// Billing Info Section    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, { timeout: 1000 }).should(&#x27;have.text&#x27;,&#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click()                              // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click()\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, { timeout: 10000 })\n.should(&#x27;have.length.greaterThan&#x27;, 0)\n.then($buttonsicd =&gt; {\n    const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length)\n    cy.wrap($buttonsicd[randomIndexicd]).click()\n})\n\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {                                                                                            // Seleting type of facility randomly.\nconst randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\nconst chosen1 = $options1[randomIndex1]\n    cy.wrap(chosen1).click({ force: true})\n    cy.log(&#x27;Selected option: &#x27; + chosen1.value)\n    if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n        cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;)\n        .should(&#x27;be.visible&#x27;)\n        .should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;)\n        .type(&#x27;&#x27;) // example date\n        }\n})\n    \n// Laboratory Setion\n\n    cy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                // Selecting Laboratory Info from side menu\n    cy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {                                                                                     // Seleting type of facility randomly.\n    const randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\n    const chosen1 = $options1[randomIndex1]\n     // Click the randomly selected input\n    cy.wrap(chosen1).click({ force: true})    \n      })\n      cy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000)                                                                                                    // typing text in Name of facility\n    //cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\n    cy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;)\n    .find(&#x27;button&#x27;)\n    .then($options2 =&gt; {\n        const randomIndex2 = Math.floor(Math.random() * $options2.length)\n        const chosen2 = $options2[randomIndex2]\n        cy.wrap($options2[randomIndex2])\n        cy.wrap(chosen2).click({ force: true})\n        cy.log(&#x27;Selected option: &#x27; + chosen2.value)\n        \n    })        \n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;&#x27;)                                                                                                  // Collection date input\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;&#x27;).wait(1000)                                                                                       // pull date input\n    //cy.get(&#x27;input[id=\&quot;laboratoryInfo.labortaryPhone\&quot;]&#x27;).click({ force: true })\n    //cy.get(&#x27;input[placeholder=\&quot;Enter tumor site\&quot;]&#x27;).type(&#x27;www.tumorsite.com&#x27;)                                                                                         // Input tumor site\n\n  // Shipment Information\n\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                          // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).click({force: true}).wait(500)                                                                                              // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;)                                                                                                 // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {                                                                                                                // Get all radio buttons by name\n    expect($radios.length).to.be.greaterThan(0) // assert radios exist\n      // âœ… Assert label text for each radio\n    cy.wrap($radios).each(($el) =&gt; {\n        cy.wrap($el)\n        .parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n        .find(&#x27;span&#x27;)    // find the text span\n        .invoke(&#x27;text&#x27;)\n        .then(text =&gt; {\n            cy.log(&#x27;Found radio option: &#x27; + text.trim())\n            expect(text.trim()).to.be.oneOf([\n            &#x27;FedEx&#x27;,\n            &#x27;USPS&#x27;,\n            &#x27;UPS&#x27;,\n            &#x27;DHL&#x27;,\n            &#x27;Private Courier&#x27;,\n            &#x27;Hand-Delivered&#x27;\n            ])\n        })\n    })\n      // âœ… Pick a random radio and click it\n    const randomIndex = Cypress._.random(0, $radios.length - 1)\n    cy.wrap($radios[randomIndex])\n        .check({ force: true })\n        .should(&#x27;be.checked&#x27;)\n      cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value)\n})\n\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;,&#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;,&#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;)        \n*/\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Pending Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken11;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken11 = oktaData.accessToken) === null || _oktaData$accessToken11 === void 0 ? void 0 : _oktaData$accessToken11.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body11;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body11 = res.body) === null || _res$body11 === void 0 || (_res$body11 = _res$body11.data) === null || _res$body11 === void 0 ? void 0 : _res$body11.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8e7304f-b9d7-4bcc-a794-c83f3a7d57a4&quot;,&quot;parentUUID&quot;:&quot;a4c9278b-064f-405d-9348-dc56fc1110e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test edited from Send for Approval to Submit Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Edit Flows Suite Verify TissueCypher Test edited from Send for Approval to Submit Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:112644,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n  timeout: 10000\n}).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n  const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n  cy.wrap($buttonsicd[randomIndexicd]).click();\n});\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).type(&#x27;05-10-1975&#x27;); // example date\n  }\n});\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\n//cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\ncy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n  const randomIndex2 = Math.floor(Math.random() * $options2.length);\n  const chosen2 = $options2[randomIndex2];\n  cy.wrap($options2[randomIndex2]);\n  cy.wrap(chosen2).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n});\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n// Shipment Information        \ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).check({\n  force: true\n}).wait(500); // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n  // Get all radio buttons by name\n  expect($radios.length).to.be.greaterThan(0); // assert radios exist\n  // âœ… Assert label text for each radio\n  cy.wrap($radios).each($el =&gt; {\n    cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n    .find(&#x27;span&#x27;) // find the text span\n    .invoke(&#x27;text&#x27;).then(text =&gt; {\n      cy.log(&#x27;Found radio option: &#x27; + text.trim());\n      expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n    });\n  });\n  // âœ… Pick a random radio and click it\n  const randomIndex = Cypress._.random(0, $radios.length - 1);\n  cy.wrap($radios[randomIndex]).check({\n    force: true\n  }).should(&#x27;be.checked&#x27;);\n  cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n});\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.get(&#x27;.primaryBtn&#x27;).click().wait(5000); // Press Submit btn                                                                                                                                       \ncy.get(&#x27;.justify-between &gt; .w-full &gt; .font-semibold&#x27;).should(&#x27;have.text&#x27;, &#x27;Test Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Test Submission Heading assertion\ncy.contains(&#x27;button&#x27;, &#x27;Send for approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Send for approval btn click        \ncy.get(&#x27;.text-3xl&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Order Sent For Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(5000); // Order Sent For Approval assertion        \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;).should(&#x27;have.text&#x27;, &#x27;Pending Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken12;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken12 = oktaData.accessToken) === null || _oktaData$accessToken12 === void 0 ? void 0 : _oktaData$accessToken12.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body12;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body12 = res.body) === null || _res$body12 === void 0 || (_res$body12 = _res$body12.data) === null || _res$body12 === void 0 ? void 0 : _res$body12.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});\ncy.contains(&#x27;button&#x27;, &#x27;Resume&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Resume btn\n/*    \n// Billing Info Section    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, { timeout: 1000 }).should(&#x27;have.text&#x27;,&#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click()                              // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click()\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, { timeout: 10000 })\n.should(&#x27;have.length.greaterThan&#x27;, 0)\n.then($buttonsicd =&gt; {\n    const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length)\n    cy.wrap($buttonsicd[randomIndexicd]).click()\n})\n\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {                                                                                            // Seleting type of facility randomly.\nconst randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\nconst chosen1 = $options1[randomIndex1]\n    cy.wrap(chosen1).click({ force: true})\n    cy.log(&#x27;Selected option: &#x27; + chosen1.value)\n    if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n        cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;)\n        .should(&#x27;be.visible&#x27;)\n        .should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;)\n        .type(&#x27;&#x27;) // example date\n        }\n})\n    \n// Laboratory Setion\n\n    cy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                // Selecting Laboratory Info from side menu\n    cy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {                                                                                     // Seleting type of facility randomly.\n    const randomIndex1 = Math.floor(Math.random() * $options1.length) // pick 0, 1, or 2\n    const chosen1 = $options1[randomIndex1]\n     // Click the randomly selected input\n    cy.wrap(chosen1).click({ force: true})    \n      })\n      cy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000)                                                                                                    // typing text in Name of facility\n    //cy.get(&#x27;:nth-child(4) &gt; .transparentBtn &gt; .font-normal&#x27;).click().wait(500)                                                                                      // Select 4th option\n    cy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;)\n    .find(&#x27;button&#x27;)\n    .then($options2 =&gt; {\n        const randomIndex2 = Math.floor(Math.random() * $options2.length)\n        const chosen2 = $options2[randomIndex2]\n        cy.wrap($options2[randomIndex2])\n        cy.wrap(chosen2).click({ force: true})\n        cy.log(&#x27;Selected option: &#x27; + chosen2.value)\n        \n    })        \n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;&#x27;)                                                                                                  // Collection date input\n    cy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;&#x27;).wait(1000)                                                                                       // pull date input\n    //cy.get(&#x27;input[id=\&quot;laboratoryInfo.labortaryPhone\&quot;]&#x27;).click({ force: true })\n    //cy.get(&#x27;input[placeholder=\&quot;Enter tumor site\&quot;]&#x27;).type(&#x27;www.tumorsite.com&#x27;)                                                                                         // Input tumor site\n\n  // Shipment Information\n\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;,&#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500)                          // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).click({force: true}).wait(500)                                                                                              // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;)                                                                                                 // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {                                                                                                                // Get all radio buttons by name\n    expect($radios.length).to.be.greaterThan(0) // assert radios exist\n      // âœ… Assert label text for each radio\n    cy.wrap($radios).each(($el) =&gt; {\n        cy.wrap($el)\n        .parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n        .find(&#x27;span&#x27;)    // find the text span\n        .invoke(&#x27;text&#x27;)\n        .then(text =&gt; {\n            cy.log(&#x27;Found radio option: &#x27; + text.trim())\n            expect(text.trim()).to.be.oneOf([\n            &#x27;FedEx&#x27;,\n            &#x27;USPS&#x27;,\n            &#x27;UPS&#x27;,\n            &#x27;DHL&#x27;,\n            &#x27;Private Courier&#x27;,\n            &#x27;Hand-Delivered&#x27;\n            ])\n        })\n    })\n      // âœ… Pick a random radio and click it\n    const randomIndex = Cypress._.random(0, $radios.length - 1)\n    cy.wrap($radios[randomIndex])\n        .check({ force: true })\n        .should(&#x27;be.checked&#x27;)\n      cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value)\n})\n\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;,&#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;,&#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;)        \n*/\ncy.get(&#x27;#notes&#x27;).clear();\ncy.get(&#x27;.primaryBtn&#x27;).click().wait(5000); // Press Submit btn                                                                                                                                       \ncy.get(&#x27;.justify-between &gt; .w-full &gt; .font-semibold&#x27;).should(&#x27;have.text&#x27;, &#x27;Test Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Test Submission Heading assertion\ncy.get(&#x27;.md\\\\:max-w-\\\\[300px\\\\] &gt; :nth-child(1) &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn &gt; .font-semibold&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n}); // Attach file for order submission\ncy.get(&#x27;.w-full &gt; :nth-child(1) &gt; .primaryBtn&#x27;, {\n  timeout: 100000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Submit btn click        \ncy.get(&#x27;.text-3xl&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Order Submitted&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Order Submitted page heading assertion        \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click          \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;).should(&#x27;have.text&#x27;, &#x27;Submitted&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is Submitted  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken13;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken13 = oktaData.accessToken) === null || _oktaData$accessToken13 === void 0 ? void 0 : _oktaData$accessToken13.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body13;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body13 = res.body) === null || _res$body13 === void 0 || (_res$body13 = _res$body13.data) === null || _res$body13 === void 0 ? void 0 : _res$body13.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08d5076e-f3bb-4f75-8d9f-96919a17419b&quot;,&quot;parentUUID&quot;:&quot;a4c9278b-064f-405d-9348-dc56fc1110e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test edited from Pending Submission to In Progress Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Edit Flows Suite Verify TissueCypher Test edited from Pending Submission to In Progress Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:95782,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n  timeout: 10000\n}).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n  const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n  cy.wrap($buttonsicd[randomIndexicd]).click();\n});\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).type(&#x27;05-10-1975&#x27;); // example date\n  }\n});\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\ncy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n  const randomIndex2 = Math.floor(Math.random() * $options2.length);\n  const chosen2 = $options2[randomIndex2];\n  cy.wrap($options2[randomIndex2]);\n  cy.wrap(chosen2).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n});\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).check({\n  force: true\n}).wait(500); // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n  // Get all radio buttons by name\n  expect($radios.length).to.be.greaterThan(0); // assert radios exist\n  // âœ… Assert label text for each radio\n  cy.wrap($radios).each($el =&gt; {\n    cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n    .find(&#x27;span&#x27;) // find the text span\n    .invoke(&#x27;text&#x27;).then(text =&gt; {\n      cy.log(&#x27;Found radio option: &#x27; + text.trim());\n      expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n    });\n  });\n  // âœ… Pick a random radio and click it\n  const randomIndex = Cypress._.random(0, $radios.length - 1);\n  cy.wrap($radios[randomIndex]).check({\n    force: true\n  }).should(&#x27;be.checked&#x27;);\n  cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n});\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Pending Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken14;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken14 = oktaData.accessToken) === null || _oktaData$accessToken14 === void 0 ? void 0 : _oktaData$accessToken14.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body14;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body14 = res.body) === null || _res$body14 === void 0 || (_res$body14 = _res$body14.data) === null || _res$body14 === void 0 ? void 0 : _res$body14.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});\ncy.contains(&#x27;button&#x27;, &#x27;Resume&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Resume btn\n// Billing Info Section    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).clear();\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).clear().wait(1000); // example date\n  }\n});\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).clear(); // typing text in Name of facility        \ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).clear(); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).clear(); // pull date input\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).uncheck({\n  force: true\n}); // Uncheckk shipping check box                             \n// Supporting doc section\n/*\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;,&#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;,&#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, { timeout: 5000 }).attachFile(\&quot;QA-Handbook.pdf\&quot;, {subjectType:&#x27;drag-n-drop&#x27;})\n*/\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;In Progress&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is In Progress  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken15;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken15 = oktaData.accessToken) === null || _oktaData$accessToken15 === void 0 ? void 0 : _oktaData$accessToken15.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body15;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body15 = res.body) === null || _res$body15 === void 0 || (_res$body15 = _res$body15.data) === null || _res$body15 === void 0 ? void 0 : _res$body15.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fb3a394-882c-4084-b38c-83d9f70ba07b&quot;,&quot;parentUUID&quot;:&quot;a4c9278b-064f-405d-9348-dc56fc1110e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test edited from Pending Submission to Send for Approval Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Edit Flows Suite Verify TissueCypher Test edited from Pending Submission to Send for Approval Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:115146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n  timeout: 10000\n}).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n  const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n  cy.wrap($buttonsicd[randomIndexicd]).click();\n});\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).type(&#x27;05-10-1975&#x27;); // example date\n  }\n});\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\ncy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n  const randomIndex2 = Math.floor(Math.random() * $options2.length);\n  const chosen2 = $options2[randomIndex2];\n  cy.wrap($options2[randomIndex2]);\n  cy.wrap(chosen2).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n});\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).check({\n  force: true\n}).wait(500); // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n  // Get all radio buttons by name\n  expect($radios.length).to.be.greaterThan(0); // assert radios exist\n  // âœ… Assert label text for each radio\n  cy.wrap($radios).each($el =&gt; {\n    cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n    .find(&#x27;span&#x27;) // find the text span\n    .invoke(&#x27;text&#x27;).then(text =&gt; {\n      cy.log(&#x27;Found radio option: &#x27; + text.trim());\n      expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n    });\n  });\n  // âœ… Pick a random radio and click it\n  const randomIndex = Cypress._.random(0, $radios.length - 1);\n  cy.wrap($radios[randomIndex]).check({\n    force: true\n  }).should(&#x27;be.checked&#x27;);\n  cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n});\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Pending Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken16;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken16 = oktaData.accessToken) === null || _oktaData$accessToken16 === void 0 ? void 0 : _oktaData$accessToken16.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body16;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body16 = res.body) === null || _res$body16 === void 0 || (_res$body16 = _res$body16.data) === null || _res$body16 === void 0 ? void 0 : _res$body16.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});\ncy.contains(&#x27;button&#x27;, &#x27;Resume&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Resume btn\ncy.get(&#x27;.primaryBtn&#x27;).click().wait(5000); // Press Submit btn                                                                                                                                       \ncy.get(&#x27;.justify-between &gt; .w-full &gt; .font-semibold&#x27;).should(&#x27;have.text&#x27;, &#x27;Test Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Test Submission Heading assertion\ncy.contains(&#x27;button&#x27;, &#x27;Send for approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Send for approval btn click        \ncy.get(&#x27;.text-3xl&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Order Sent For Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(5000); // Order Sent For Approval assertion        \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;).should(&#x27;have.text&#x27;, &#x27;Pending Approval&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken17;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken17 = oktaData.accessToken) === null || _oktaData$accessToken17 === void 0 ? void 0 : _oktaData$accessToken17.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body17;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body17 = res.body) === null || _res$body17 === void 0 || (_res$body17 = _res$body17.data) === null || _res$body17 === void 0 ? void 0 : _res$body17.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;670a050f-ea4d-4c53-9089-d651364a738b&quot;,&quot;parentUUID&quot;:&quot;a4c9278b-064f-405d-9348-dc56fc1110e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Verify TissueCypher Test edited from Pending Submission to Submit Status&quot;,&quot;fullTitle&quot;:&quot;TissueCypher Online Order Edit Flows Suite Verify TissueCypher Test edited from Pending Submission to Submit Status&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:126017,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.viewport(1920, 1081);\ncy.visit(\&quot;https://demo.clabsportal.com/\&quot;);\n// Login Button Click\ncy.wait(500);\ncy.get(&#x27;[type=\&quot;button\&quot;]&#x27;).contains(\&quot;login\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;login&#x27;).click().wait(500); // Click to Login button usimg btn type    &gt;&gt; Best Practise\n// Input username\ncy.origin(&#x27;https://democlient.clabsportal.com&#x27;, () =&gt; {\n  cy.wait(500);\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).type(\&quot;dodobo3146@appxapi.com\&quot;); // Get username by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;username\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;dodobo3146@appxapi.com&#x27;); // Check username if the username is correctly input            \n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).type(\&quot;bhwY8En6a\&quot;); // Get password by attribute name and type in it\n  cy.get(&#x27;input[name=\&quot;password\&quot;]&#x27;).should(&#x27;have.value&#x27;, &#x27;bhwY8En6a&#x27;); // Check password if the password is correctly input\n  cy.get(&#x27;[type=\&quot;submit\&quot;]&#x27;).contains(\&quot;Sign In\&quot;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;contain&#x27;, &#x27;Sign In&#x27;).click(); // Get submit btn by btn type and cick on it   &gt;&gt; Best Practise                                \n});\n// Order Creation and SUbmit //                      \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click                  \ncy.contains(&#x27;button&#x27;, &#x27;New Online Order&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // New Online Order Btn Assertion  \ncy.contains(&#x27;button&#x27;, &#x27;Select organization&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown\ncy.contains(&#x27;button&#x27;, &#x27;Shahzad ORG 15 May&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All ORG Dropdown and click  \ncy.get(&#x27;ul li button&#x27;).eq(0).should(&#x27;be.visible&#x27;).click().wait(1500); // Select ORG from dropdown            \ncy.contains(&#x27;button&#x27;, &#x27;Select a clinician&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1000); // All Phy Dropdown and click \ncy.get(&#x27;ul li button&#x27;).eq(1).should(&#x27;be.visible&#x27;).click().wait(1500); // Select Phy from dropdown  \ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(1500); // Press next btn  \n// Flow 1: Create Order by input New paitent Name\ncy.get(&#x27;input[placeholder=\&quot;Search using Patient\\&#x27;s Name, SSN or MRN.\&quot;]:visible&#x27;).first().should(&#x27;be.enabled&#x27;).type(&#x27;John Doe&#x27;, {\n  force: true\n}); // Input Patient Name\ncy.contains(&#x27;button&#x27;, &#x27;ADD&#x27;, {\n  timeout: 5000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Press ADD btn to add new patient\ncy.get(&#x27;#firstName&#x27;).type(&#x27;Jack&#x27;).wait(500); // Add First Name\ncy.get(&#x27;#lastName&#x27;).type(&#x27;Maaaa&#x27;).wait(500); // Add Last Name\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]:visible&#x27;).first().type(&#x27;05-16-1975&#x27;); // Add DOB\ncy.get(&#x27;#gender&#x27;).click().wait(500); // Tap gender dropdown\ncy.get(&#x27;ul span button&#x27;).then($items =&gt; {\n  // Select Male  \n  const randomIndex = Math.floor(Math.random() * $items.length);\n  cy.wrap($items[randomIndex]).click();\n});\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Next btn\ncy.contains(&#x27;button&#x27;, &#x27;next&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Next btn again        \ncy.contains(&#x27;button&#x27;, &#x27;Proceed to order&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click().wait(500); // Tap to Proceed to order btn\ncy.contains(&#x27;button&#x27;, &#x27;Review&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(500); // Assertion for \&quot;review\&quot; Button is present\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).and(&#x27;be.disabled&#x27;).wait(500); // Assertion for \&quot;save_and_exit\&quot; Button is present and disabled\ncy.contains(&#x27;p&#x27;, &#x27;Select Test&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Assertion for \&quot;Select Test\&quot; heading is present.              \n// Side bar icons color assertions\ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).each($el =&gt; {\n  // Asserting each sidebar circle icon color in not filled.\n  cy.wrap($el).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;none&#x27;);\n});\ncy.contains(&#x27;p&#x27;, &#x27;TissueCypher&#x27;).scrollIntoView().should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Tapping to Tissue Cypher Test        \ncy.get(&#x27;path[data-name=\&quot;Path 5122\&quot;]&#x27;).should(&#x27;have.attr&#x27;, &#x27;fill&#x27;, &#x27;#18B5B7&#x27;); // Asserting side bar Select text icon color is filled  \n// Billing Info Section    \ncy.get(&#x27;a[href=\&quot;#Billing Information\&quot;] p&#x27;, {\n  timeout: 1000\n}).should(&#x27;have.text&#x27;, &#x27;Billing Information&#x27;).should(&#x27;be.visible&#x27;).click(); // Asserting side bar billing information and clicked \ncy.get(&#x27;#billingInfo\\\\.icdCodeId&#x27;).click();\ncy.get(&#x27;div.absolute ul button.transparentBtn&#x27;, {\n  timeout: 10000\n}).should(&#x27;have.length.greaterThan&#x27;, 0).then($buttonsicd =&gt; {\n  const randomIndexicd = Math.floor(Math.random() * $buttonsicd.length);\n  cy.wrap($buttonsicd[randomIndexicd]).click();\n});\ncy.get(&#x27;input[name=\&quot;billingInfo.typeOfFacility\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  cy.wrap(chosen1).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen1.value);\n  if (chosen1.value === \&quot;Hospital Inpatient\&quot;) {\n    cy.get(&#x27;#Billing\\\\ Information &gt; .p-6 &gt; :nth-child(4) &gt; .false &gt; .react-datepicker-wrapper &gt; .react-datepicker__input-container &gt; .w-full&#x27;).should(&#x27;be.visible&#x27;).should(&#x27;have.attr&#x27;, &#x27;placeholder&#x27;, &#x27;MM-DD-YYYY&#x27;).type(&#x27;05-10-1975&#x27;); // example date\n  }\n});\n// Laboratory Setion\ncy.get(&#x27;a[href=\&quot;#Laboratory Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Laboratory Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // Selecting Laboratory Info from side menu\ncy.get(&#x27;input[name=\&quot;laboratoryInfo.typeOfSpecimen\&quot;]&#x27;).then($options1 =&gt; {\n  // Seleting type of facility randomly.\n  const randomIndex1 = Math.floor(Math.random() * $options1.length); // pick 0, 1, or 2\n  const chosen1 = $options1[randomIndex1];\n  // Click the randomly selected input\n  cy.wrap(chosen1).click({\n    force: true\n  });\n});\ncy.get(&#x27;#laboratoryInfo\\\\.labortaryName&#x27;).type(&#x27;a&#x27;).wait(1000); // typing text in Name of facility\ncy.get(&#x27;div[style*=\&quot;position: absolute\&quot;]:visible&#x27;).find(&#x27;button&#x27;).then($options2 =&gt; {\n  const randomIndex2 = Math.floor(Math.random() * $options2.length);\n  const chosen2 = $options2[randomIndex2];\n  cy.wrap($options2[randomIndex2]);\n  cy.wrap(chosen2).click({\n    force: true\n  });\n  cy.log(&#x27;Selected option: &#x27; + chosen2.value);\n});\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(0).type(&#x27;05-16-2025&#x27;); // Collection date input\ncy.get(&#x27;input[placeholder=\&quot;MM-DD-YYYY\&quot;]&#x27;).eq(1).type(&#x27;05-18-2025&#x27;).wait(1000); // pull date input\n// Shipment Information\ncy.get(&#x27;a[href=\&quot;#Shipment Information\&quot;] p&#x27;).should(&#x27;have.text&#x27;, &#x27;Shipment Information&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).click().wait(500); // left side Shipment Information anchor click\ncy.get(&#x27;input[name=\&quot;isTissueShipped\&quot;]&#x27;).check({\n  force: true\n}).wait(500); // Click shipping check box                             \ncy.get(&#x27;input[placeholder=\&quot;Enter tracking number\&quot;]&#x27;).type(&#x27;KMJ123&#x27;); // Input tumor site \ncy.get(&#x27;input[name=\&quot;shipMethod\&quot;]&#x27;).then($radios =&gt; {\n  // Get all radio buttons by name\n  expect($radios.length).to.be.greaterThan(0); // assert radios exist\n  // âœ… Assert label text for each radio\n  cy.wrap($radios).each($el =&gt; {\n    cy.wrap($el).parent(&#x27;label&#x27;) // go up to the &lt;label&gt;\n    .find(&#x27;span&#x27;) // find the text span\n    .invoke(&#x27;text&#x27;).then(text =&gt; {\n      cy.log(&#x27;Found radio option: &#x27; + text.trim());\n      expect(text.trim()).to.be.oneOf([&#x27;FedEx&#x27;, &#x27;USPS&#x27;, &#x27;UPS&#x27;, &#x27;DHL&#x27;, &#x27;Private Courier&#x27;, &#x27;Hand-Delivered&#x27;]);\n    });\n  });\n  // âœ… Pick a random radio and click it\n  const randomIndex = Cypress._.random(0, $radios.length - 1);\n  cy.wrap($radios[randomIndex]).check({\n    force: true\n  }).should(&#x27;be.checked&#x27;);\n  cy.log(&#x27;Randomly selected option: &#x27; + $radios[randomIndex].value);\n});\n// Supporting doc section\ncy.get(&#x27;a[href=\&quot;#Supporting Documents\&quot;] p&#x27;).scrollIntoView().click().wait(500);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Endoscopy Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(2) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;have.text&#x27;, &#x27;Pathology Report&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(3) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Patient Info / Demographics Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(4) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n//cy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .font-normal&#x27;).should(&#x27;Insurance Card / Billing Face Sheet&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;)\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\]&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;);\ncy.get(&#x27;:nth-child(5) &gt; .max-w-\\\\[300px\\\\] &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n});\n// Notes \ncy.get(&#x27;#notes&#x27;).type(&#x27;Testing notes&#x27;);\ncy.contains(&#x27;button&#x27;, &#x27;Save and Exit&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Save and Exit btn click        \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Pending Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is pending submission  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken18;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken18 = oktaData.accessToken) === null || _oktaData$accessToken18 === void 0 ? void 0 : _oktaData$accessToken18.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body18;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body18 = res.body) === null || _res$body18 === void 0 || (_res$body18 = _res$body18.data) === null || _res$body18 === void 0 ? void 0 : _res$body18.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});\ncy.contains(&#x27;button&#x27;, &#x27;Resume&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Tap to Resume btn\ncy.get(&#x27;.primaryBtn&#x27;).click().wait(5000); // Press Submit btn                                                                                                                                       \ncy.get(&#x27;.justify-between &gt; .w-full &gt; .font-semibold&#x27;).should(&#x27;have.text&#x27;, &#x27;Test Submission&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Test Submission Heading assertion\ncy.get(&#x27;.md\\\\:max-w-\\\\[300px\\\\] &gt; :nth-child(1) &gt; .bg-\\\\[\\\\#F9F9FA\\\\] &gt; span &gt; .secondaryBtn &gt; .font-semibold&#x27;, {\n  timeout: 5000\n}).attachFile(\&quot;QA-Handbook.pdf\&quot;, {\n  subjectType: &#x27;drag-n-drop&#x27;\n}); // Attach file for order submission\ncy.get(&#x27;.w-full &gt; :nth-child(1) &gt; .primaryBtn&#x27;, {\n  timeout: 100000\n}).should(&#x27;be.visible&#x27;).and(&#x27;be.enabled&#x27;).click(); // Submit btn click        \ncy.get(&#x27;.text-3xl&#x27;, {\n  timeout: 100000\n}).should(&#x27;have.text&#x27;, &#x27;Order Submitted&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;); // Order Submitted page heading assertion        \ncy.contains(&#x27;a&#x27;, &#x27;Test Orders&#x27;, {\n  timeout: 70000\n}).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/access/test-orders&#x27;).click(); // Test Orders Tab click          \ncy.get(&#x27;:nth-child(1) &gt; .lg\\\\:right-0 &gt; .py-1&#x27;).should(&#x27;have.text&#x27;, &#x27;Submitted&#x27;).should(&#x27;be.visible&#x27;).and(&#x27;exist&#x27;).wait(2000); // Chwck the order status is Submitted  \ncy.wait(5000);\ncy.contains(&#x27;button&#x27;, &#x27;Detail&#x27;).eq(0).click().wait(1000);\ncy.url().should(&#x27;include&#x27;, &#x27;/summary/&#x27;);\ncy.url().then(url =&gt; {\n  const orderId = url.split(&#x27;/&#x27;).pop();\n  expect(orderId).to.match(/^\\d+$/);\n  cy.log(`ðŸ†” Order ID: ${orderId}`);\n  // ðŸ”¹ Wait until Okta token exists\n  cy.window().should(win =&gt; {\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    expect(raw, &#x27;Okta token storage&#x27;).to.not.be.null;\n  });\n  cy.window().then(win =&gt; {\n    var _oktaData$accessToken19;\n    const raw = win.localStorage.getItem(&#x27;okta-token-storage&#x27;);\n    const oktaData = JSON.parse(raw);\n    const accessToken = oktaData === null || oktaData === void 0 || (_oktaData$accessToken19 = oktaData.accessToken) === null || _oktaData$accessToken19 === void 0 ? void 0 : _oktaData$accessToken19.accessToken;\n    expect(accessToken, &#x27;Access token&#x27;).to.not.be.undefined;\n    cy.log(&#x27;âœ… Access token extracted&#x27;);\n    // ðŸ”¹ Poll backend for eRequestId\n    const pollErequest = (retries = 8) =&gt; {\n      if (retries === 0) {\n        throw new Error(`âŒ eRequestId not generated for order ${orderId}`);\n      }\n      cy.request({\n        method: &#x27;GET&#x27;,\n        url: `https://demoapi.clabsportal.com/v1/orders/new-flow/${orderId}`,\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        },\n        failOnStatusCode: false\n      }).then(res =&gt; {\n        var _res$body19;\n        // ðŸ” DEBUG: log full backend response\n        cy.log(JSON.stringify(res.body, null, 2));\n        expect(res.status).to.eq(200);\n        const eRequestId = (_res$body19 = res.body) === null || _res$body19 === void 0 || (_res$body19 = _res$body19.data) === null || _res$body19 === void 0 ? void 0 : _res$body19.eRequestId;\n        if (eRequestId) {\n          // âœ… SUCCESS\n          cy.log(`âœ… eRequestId generated: ${eRequestId}`);\n          expect(eRequestId).to.not.be.empty;\n        } else {\n          // â³ NOT READY â†’ WAIT &amp; RETRY\n          cy.log(`â³ eRequestId not ready. Retries left: ${retries - 1}`);\n          cy.wait(5000);\n          pollErequest(retries - 1);\n        }\n      });\n    };\n    pollErequest();\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0797ee8-7175-471e-8f0a-13d2aa5fc28c&quot;,&quot;parentUUID&quot;:&quot;a4c9278b-064f-405d-9348-dc56fc1110e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;579d5489-566f-4445-b892-3e08f2c19a37&quot;,&quot;8d089bf8-66dc-4de1-a2c5-a305bfc63acc&quot;,&quot;d0456230-da81-4fa1-83b1-53bbc6d5b106&quot;,&quot;3a407a9f-aaaf-44e1-838f-3850d1e1d48c&quot;,&quot;b8e7304f-b9d7-4bcc-a794-c83f3a7d57a4&quot;,&quot;08d5076e-f3bb-4f75-8d9f-96919a17419b&quot;,&quot;5fb3a394-882c-4084-b38c-83d9f70ba07b&quot;,&quot;670a050f-ea4d-4c53-9089-d651364a738b&quot;,&quot;a0797ee8-7175-471e-8f0a-13d2aa5fc28c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1054795,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;[status]_[datetime]-[name]-report&quot;,&quot;saveHtml&quot;:false,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;charts&quot;:false,&quot;reportPageTitle&quot;:&quot;Automation Reports&quot;,&quot;embeddedScreenshots&quot;:false,&quot;inlineAssets&quot;:false,&quot;saveAllAttempts&quot;:false,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:false,&quot;reportFilename&quot;:&quot;[status]_[datetime]-[name]-report&quot;,&quot;html&quot;:false,&quot;json&quot;:true,&quot;reportDir&quot;:&quot;cypress\\reports\\html\\.jsons&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;[status]_[datetime]-[name]-report&quot;,&quot;reportDir&quot;:&quot;C:\\Users\\HP\\ThermoForm\\cypress\\reports\\html&quot;,&quot;reportTitle&quot;:&quot;ThermoForm&quot;,&quot;reportPageTitle&quot;:&quot;Automation Reports&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:false,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:false,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;C:\\Users\\HP\\ThermoForm\\cypress\\reports\\html\\assets&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\HP\\ThermoForm\\cypress\\reports\\html\\pass_2026-01-14T193117+0500-CBS-TissueCypher-Tests-report.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>